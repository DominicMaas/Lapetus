{"version":3,"sources":["pages/NightPage.tsx","pages/CameraPage.tsx","App.tsx","theme.ts","index.js"],"names":["useStyles","makeStyles","theme","createStyles","formControl","width","marginBottom","spacing","backdrop","zIndex","drawer","color","appBar","display","title","marginLeft","flex","img","objectFit","KVPair","value","choices","this","loopCount","NightPage","classes","React","useState","loading","setLoading","error","setError","recShutter","setRecShutter","iso","setIso","shutterSpeed","setShutterSpeed","fStop","setFStop","delay","setDelay","takes","setTakes","running","setRunning","stopText","setStopText","dialogOpen","setDialogOpen","previewData","setPreviewData","useEffect","fetch","method","body","then","res","catch","refresh","a","json","b","c","d","exposeTime","parseFloat","Math","round","Promise","all","captureImage","Number","MAX_VALUE","loopFunc","parseInt","setTimeout","handleClose","Backdrop","className","open","CircularProgress","Dialog","fullScreen","onClose","AppBar","Toolbar","IconButton","edge","onClick","aria-label","Typography","variant","src","alt","position","Container","Alert","severity","FormControl","InputLabel","id","Select","labelId","onChange","v","target","map","MenuItem","key","FormHelperText","TextField","label","Button","blob","URL","createObjectURL","CameraPage","stickToBottom","bottom","App","setValue","path","exact","BottomNavigation","event","newValue","showLabels","BottomNavigationAction","showLabel","component","Link","to","icon","createMuiTheme","palette","primary","cyan","secondary","type","ReactDOM","render","ThemeProvider","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.bf75b719.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport {\r\n  AppBar,\r\n  Typography,\r\n  Toolbar,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Container,\r\n  makeStyles,\r\n  createStyles,\r\n  Theme,\r\n  FormHelperText,\r\n  TextField,\r\n  Button,\r\n  Backdrop,\r\n  CircularProgress,\r\n  Dialog,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    formControl: {\r\n      width: \"100%\",\r\n      marginBottom: theme.spacing(3),\r\n    },\r\n    backdrop: {\r\n      zIndex: theme.zIndex.drawer + 1,\r\n      color: \"#fff\",\r\n    },\r\n    appBar: {\r\n      display: \"relative\",\r\n    },\r\n    title: {\r\n      marginLeft: theme.spacing(2),\r\n      flex: 1,\r\n    },\r\n    img: {\r\n      display: \"Block\",\r\n      objectFit: \"contain\",\r\n      width: \"100%\",\r\n    },\r\n  })\r\n);\r\n\r\nclass KVPair {\r\n  constructor(value: string, choices: string[]) {\r\n    this.value = value;\r\n    this.choices = choices;\r\n  }\r\n\r\n  public value: string;\r\n  public choices: string[];\r\n}\r\n\r\nlet loopCount: number = 0;\r\n\r\nfunction NightPage() {\r\n  const classes = useStyles();\r\n\r\n  const [loading, setLoading] = React.useState<boolean>(true);\r\n  const [error, setError] = React.useState<string>();\r\n\r\n  const [recShutter, setRecShutter] = React.useState<string>(\"?\");\r\n\r\n  const [iso, setIso] = React.useState<KVPair>(new KVPair(\"\", [\"\"]));\r\n  const [shutterSpeed, setShutterSpeed] = React.useState(new KVPair(\"\", [\"\"]));\r\n  const [fStop, setFStop] = React.useState(new KVPair(\"\", [\"\"]));\r\n\r\n  const [delay, setDelay] = React.useState(\"5\");\r\n  const [takes, setTakes] = React.useState(\"10\");\r\n\r\n  const [running, setRunning] = React.useState(false);\r\n\r\n  const [stopText, setStopText] = React.useState(\"Stop\");\r\n\r\n  const [dialogOpen, setDialogOpen] = React.useState(false);\r\n  const [previewData, setPreviewData] = React.useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (loading) return; // Prevent initial value being set\r\n\r\n    setLoading(true);\r\n\r\n    fetch(\"http://raspberrypi:8080/set-config-item/iso\", {\r\n      method: \"POST\",\r\n      body: iso.value,\r\n    })\r\n      .then((res) => {\r\n        setLoading(false);\r\n      })\r\n      .catch((res) => {\r\n        setError(res);\r\n        setLoading(false);\r\n      });\r\n  }, [iso]);\r\n\r\n  useEffect(() => {\r\n    if (loading) return; // Prevent initial value being set\r\n\r\n    setLoading(true);\r\n\r\n    fetch(\"http://raspberrypi:8080/set-config-item/shutterspeed\", {\r\n      method: \"POST\",\r\n      body: shutterSpeed.value,\r\n    })\r\n      .then((res) => {\r\n        setLoading(false);\r\n      })\r\n      .catch((res) => {\r\n        setError(res);\r\n        setLoading(false);\r\n      });\r\n  }, [shutterSpeed]);\r\n\r\n  useEffect(() => {\r\n    if (loading) return; // Prevent initial value being set\r\n\r\n    setLoading(true);\r\n\r\n    fetch(\"http://raspberrypi:8080/set-config-item/f-number\", {\r\n      method: \"POST\",\r\n      body: fStop.value,\r\n    })\r\n      .then((res) => {\r\n        setLoading(false);\r\n      })\r\n      .catch((res) => {\r\n        setError(res);\r\n        setLoading(false);\r\n      });\r\n  }, [fStop]);\r\n\r\n  // Set the defaults (this only runs when the component is first mounted)\r\n  useEffect(() => {\r\n    refresh();\r\n  }, []);\r\n\r\n  const refresh = () => {\r\n    setLoading(true);\r\n\r\n    let a = fetch(\"http://raspberrypi:8080/get-config-item/iso\")\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        let iso = new KVPair(res.value, res.choices);\r\n        setIso(iso);\r\n      })\r\n      .catch((res) => {\r\n        setError(\"The camera is not connected, or the device is not on!\");\r\n      });\r\n\r\n    let b = fetch(\"http://raspberrypi:8080/get-config-item/shutterspeed\")\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        let shutterSpeed = new KVPair(res.value, res.choices);\r\n        setShutterSpeed(shutterSpeed);\r\n      })\r\n      .catch((res) => {\r\n        setError(\"The camera is not connected, or the device is not on!\");\r\n      });\r\n\r\n    let c = fetch(\"http://raspberrypi:8080/get-config-item/f-number\")\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        let fStop = new KVPair(res.value, res.choices);\r\n        setFStop(fStop);\r\n      })\r\n      .catch((res) => {\r\n        setError(\"The camera is not connected, or the device is not on!\");\r\n      });\r\n\r\n    let d = fetch(\"http://raspberrypi:8080/get-config-item/focallength\")\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        let focal = parseFloat(res.value);\r\n        let exposeTime = 500 / focal;\r\n        setRecShutter(Math.round(exposeTime) + \"\");\r\n      })\r\n      .catch(() => {\r\n        setRecShutter(\"???\");\r\n      });\r\n\r\n    // Set loading to false once complete\r\n    Promise.all([a, b, c, d]).then(() => {\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  const captureImage = async () => {\r\n    if (running) {\r\n      loopCount = Number.MAX_VALUE; // This forces the counter to stop\r\n      setRunning(false);\r\n      return;\r\n    }\r\n\r\n    setRunning(true);\r\n\r\n    loopCount = 0;\r\n    const loopFunc = async () => {\r\n      // At the end\r\n      if (loopCount >= Number.parseInt(takes)) {\r\n        setRunning(false);\r\n        return;\r\n      }\r\n\r\n      setStopText(\r\n        \"Stop (\" + (loopCount + 1) + \"/\" + Number.parseInt(takes) + \")\"\r\n      );\r\n\r\n      // Run the call\r\n      try {\r\n        await fetch(\"http://raspberrypi:8080/capture-image\", {\r\n          method: \"POST\",\r\n        });\r\n        setLoading(false);\r\n      } catch (e) {\r\n        setError(e);\r\n        setLoading(false);\r\n      }\r\n\r\n      loopCount++;\r\n\r\n      setTimeout(loopFunc, 1000 * Number.parseFloat(delay));\r\n    };\r\n\r\n    // Call straight away\r\n    await loopFunc();\r\n  };\r\n\r\n  const capturePreview = () => {\r\n    // This may take some time\r\n    setLoading(true);\r\n\r\n    fetch(\"http://raspberrypi:8080/capture-preview\")\r\n      .then((res) => res.blob())\r\n      .then((res) => {\r\n        setLoading(false);\r\n        setDialogOpen(true);\r\n        setPreviewData(URL.createObjectURL(res));\r\n      })\r\n      .catch((res) => {\r\n        setError(res);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setDialogOpen(false);\r\n  };\r\n\r\n  // The UI\r\n  return (\r\n    <>\r\n      <Backdrop className={classes.backdrop} open={loading}>\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n      <Dialog fullScreen open={dialogOpen} onClose={handleClose}>\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={handleClose}\r\n              aria-label=\"close\"\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Image Preview\r\n            </Typography>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <br /> <br /> <br />\r\n        <br /> <br /> <br />\r\n        <img src={previewData} className={classes.img} alt=\"Preview Image\" />\r\n      </Dialog>\r\n\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <Typography variant=\"h6\">Night Photography</Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n\r\n      <br />\r\n\r\n      <Container>\r\n        {error ? (\r\n          <>\r\n            <Alert severity=\"error\">{error}</Alert>\r\n            <br />\r\n          </>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n\r\n        <FormControl className={classes.formControl} variant=\"standard\">\r\n          <InputLabel id=\"select-iso-label\">ISO</InputLabel>\r\n          <Select\r\n            labelId=\"select-iso-label\"\r\n            id=\"select-iso\"\r\n            value={iso?.value}\r\n            onChange={(v) =>\r\n              setIso(new KVPair(v.target.value as string, iso.choices))\r\n            }\r\n          >\r\n            {iso?.choices.map((v) => (\r\n              <MenuItem key={v} value={v}>\r\n                {v}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n\r\n        <FormControl className={classes.formControl} variant=\"standard\">\r\n          <InputLabel id=\"select-shutter-speed-label\">Shutter Speed</InputLabel>\r\n          <Select\r\n            labelId=\"select-shutter-speed-label\"\r\n            id=\"select-shutter-speed\"\r\n            value={shutterSpeed.value}\r\n            onChange={(v) =>\r\n              setShutterSpeed(\r\n                new KVPair(v.target.value as string, shutterSpeed.choices)\r\n              )\r\n            }\r\n          >\r\n            {shutterSpeed?.choices.map((v) => (\r\n              <MenuItem key={v} value={v}>\r\n                {v}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n\r\n          <FormHelperText>\r\n            Recommended shutter speed of max {recShutter}s (500 Rule)\r\n          </FormHelperText>\r\n        </FormControl>\r\n\r\n        <FormControl className={classes.formControl} variant=\"standard\">\r\n          <InputLabel id=\"select-f-stop-label\">FStop</InputLabel>\r\n          <Select\r\n            labelId=\"select-f-stop-label\"\r\n            id=\"select-f-stop\"\r\n            value={fStop.value}\r\n            onChange={(v) =>\r\n              setFStop(new KVPair(v.target.value as string, fStop.choices))\r\n            }\r\n          >\r\n            {\" \"}\r\n            {fStop?.choices.map((v) => (\r\n              <MenuItem key={v} value={v}>\r\n                {v}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n\r\n        <FormControl className={classes.formControl} variant=\"standard\">\r\n          <TextField\r\n            label=\"Delay (seconds)\"\r\n            id=\"select-delay\"\r\n            value={delay}\r\n            onChange={(v) => setDelay(v.target.value as string)}\r\n          />\r\n          <FormHelperText>The delay in-between each photo</FormHelperText>\r\n        </FormControl>\r\n\r\n        <FormControl className={classes.formControl}>\r\n          <TextField\r\n            label=\"Takes\"\r\n            id=\"select-takes\"\r\n            value={takes}\r\n            onChange={(v) => setTakes(v.target.value as string)}\r\n          />\r\n          <FormHelperText>How many photos to take</FormHelperText>\r\n        </FormControl>\r\n\r\n        <FormControl className={classes.formControl}>\r\n          <Button variant=\"contained\" color=\"primary\" onClick={captureImage}>\r\n            {running ? stopText : \"Start\"}\r\n          </Button>\r\n        </FormControl>\r\n\r\n        <FormControl className={classes.formControl}>\r\n          <Button variant=\"outlined\" color=\"primary\" onClick={capturePreview}>\r\n            Capture Preview\r\n          </Button>\r\n        </FormControl>\r\n\r\n        <FormControl className={classes.formControl}>\r\n          <Button variant=\"outlined\" onClick={refresh}>\r\n            Refresh\r\n          </Button>\r\n          <FormHelperText>\r\n            Refresh after adjusting the camera focus or zoom\r\n          </FormHelperText>\r\n        </FormControl>\r\n      </Container>\r\n\r\n      <br />\r\n      <br />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NightPage;\r\n","import React from \"react\";\r\nimport { AppBar, Typography, Toolbar } from \"@material-ui/core\";\r\n\r\nfunction CameraPage() {\r\n  return (\r\n    <>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <Typography variant=\"h6\">Manage Camera</Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CameraPage;\r\n","import React from \"react\";\nimport \"./App.css\";\nimport {\n  BottomNavigation,\n  BottomNavigationAction,\n  makeStyles,\n} from \"@material-ui/core\";\nimport NightsStayTwoToneIcon from \"@material-ui/icons/NightsStayTwoTone\";\nimport LinkedCameraTwoToneIcon from \"@material-ui/icons/LinkedCameraTwoTone\";\nimport NightPage from \"./pages/NightPage\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport CameraPage from \"./pages/CameraPage\";\n\nconst useStyles = makeStyles({\n  stickToBottom: {\n    width: \"100%\",\n    position: \"fixed\",\n    bottom: 0,\n  },\n});\n\nfunction App() {\n  const [value, setValue] = React.useState(0);\n  const classes = useStyles();\n\n  return (\n    <Router>\n      <>\n        <Switch>\n          <Route path=\"/\" exact>\n            <NightPage />\n          </Route>\n          <Route path=\"/night\">\n            <NightPage />\n          </Route>\n          <Route path=\"/camera\">\n            <CameraPage />\n          </Route>\n        </Switch>\n\n        <BottomNavigation\n          className={classes.stickToBottom}\n          value={value}\n          onChange={(event, newValue) => {\n            setValue(newValue);\n          }}\n          showLabels={false}\n        >\n          <BottomNavigationAction\n            showLabel={false}\n            component={Link}\n            to=\"/night\"\n            icon={<NightsStayTwoToneIcon />}\n          />\n          <BottomNavigationAction\n            showLabel={false}\n            component={Link}\n            to=\"/camera\"\n            icon={<LinkedCameraTwoToneIcon />}\n          />\n        </BottomNavigation>\n      </>\n    </Router>\n  );\n}\n\nexport default App;\n","import { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport cyan from \"@material-ui/core/colors/cyan\";\r\n\r\nexport const theme = createMuiTheme({\r\n  palette: {\r\n    primary: cyan,\r\n    secondary: cyan,\r\n    type: \"dark\",\r\n  },\r\n});\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"typeface-roboto\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { ThemeProvider } from \"@material-ui/core\";\nimport { theme } from \"./theme\";\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <CssBaseline />\n    <App />\n  </ThemeProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}